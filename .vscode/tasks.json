{
    "version": "2.0.0",
    "tasks": [
        {
            "label": "Build streamlit image",
            "type": "shell",
            "command": "docker build -t llmchat-frontend:latest ./streamlit",
            "problemMatcher": []
        },
        {
            "label": "Run streamlit container",
            "type": "shell",
            "command": "docker run -it --rm --name streamlit_test --net=host -p 8501:8501 llmchat-frontend:latest",
            "problemMatcher": []
        },
        {
            "label": "Stop streamlit container",
            "type": "shell",
            "command": "docker container stop streamlit_test",
            "problemMatcher": []
        },
        {
            "label": "Build flask-cognito image",
            "type": "shell",
            "command": "docker build -t cognito/flask:latest ./flask-cognito",
            "problemMatcher": []
        },
        {
            "label": "Run flask-cognito container",
            "type": "shell",
            "command": "docker run -it --rm --name flask-cognito --net=host -p 5000:5000 cognito/flask:latest",
            "problemMatcher": []
        },
        {
            "label": "Stop flask-cognito container",
            "type": "shell",
            "command": "docker container stop flask-cognito",
            "problemMatcher": []
        },
        {
            "label": "Tag flask-cognito image before push",
            "type": "shell",
            "command": "docker tag cognito/flask:latest 536697267559.dkr.ecr.eu-central-1.amazonaws.com/cognito/flask:latest",
            "problemMatcher": []
        },
        {
            "label": "Push flask-cognito image",
            "type": "shell",
            "command": "docker push 536697267559.dkr.ecr.eu-central-1.amazonaws.com/cognito/flask:latest",
            "problemMatcher": []
        }
    ]
}
